{% extends "base.html" %}
{% from "macros.html" import feature_item %}

{% block title %}Subscribe - Chronicle{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='subscribe.css') }}">
{% endblock %}

{% block main_class %}page-centered{% endblock %}

{% block content %}
<div class="subscribe-container">
  <div class="subscribe-header">
    <h1>Start Training Smarter</h1>
    <p>Choose your plan and unlock velocity based training</p>
  </div>

  <div class="pricing-cards">
    <div class="pricing-card">
      <h3>Monthly</h3>
      <div class="price">$5<span>/month</span></div>
      <ul class="features">
        <li>Unlimited squat tracking</li>
        <li>Real-time velocity feedback</li>
        <li>Depth analysis</li>
        <li>Rep counter</li>
        <li>No equipment needed</li>
      </ul>
      {% if current_user.is_authenticated %}
        <a href="{{ stripe_monthly_link }}" class="btn-primary">Get Started</a>
      {% else %}
        <a href="{{ url_for('subscribe') }}" class="btn-primary">Sign In to Subscribe</a>
      {% endif %}
    </div>

    <div class="pricing-card featured">
      <h3>Annual</h3>
      <div class="price">$30<span>/year</span></div>
      <ul class="features">
        <li>Everything in Monthly</li>
        <li>Save $60 per year</li>
        <li>Priority support</li>
        <li>Early access to new features</li>
        <li>Cancel anytime</li>
      </ul>
      {% if current_user.is_authenticated %}
        <a href="{{ stripe_monthly_link }}" class="btn-primary">Get Started</a>
      {% else %}
        <a href="{{ url_for('subscribe') }}" class="btn-primary">Sign In to Subscribe</a>
      {% endif %}
    </div>
  </div>

  <div class="features-section">
    <h2>What You Get</h2>
    <div class="features-grid">
      {{ feature_item("ðŸ“±", "Phone Only", "No sensors or equipment required") }}
      {{ feature_item("âš¡", "Real-Time Data", "Instant velocity and depth feedback") }}
      {{ feature_item("ðŸ“Š", "Track Progress", "Monitor fatigue and performance") }}
      {{ feature_item("ðŸŽ¯", "Honest Metrics", "Objective depth measurement") }}
    </div>
  </div>

  <!-- Coach Contact Section -->
  <div class="coach-section glass-card">
    <div class="coach-content">
      <div class="coach-info">
        <h3>Are You a Coach?</h3>
        <p>Get team pricing, athlete management tools, and program creation features.</p>
        <ul class="coach-features">
          <li>Manage multiple athletes from one dashboard</li>
          <li>Create and assign training programs</li>
          <li>Track athlete velocity and progress</li>
          <li>Add video tutorials to exercises</li>
        </ul>
      </div>
      <a href="mailto:pautomas55@gmail.com?subject=Chronicle%20Coach%20Inquiry" class="btn-coach">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
          <polyline points="22,6 12,13 2,6"/>
        </svg>
        Contact Sales
      </a>
    </div>
  </div>

  {% if not current_user.is_authenticated %}
    <div class="alt-action">Don't have an account? <a href="{{ url_for('login') }}">Create one now</a></div>
  {% endif %}
</div>
{% endblock %}
